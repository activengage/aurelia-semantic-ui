define(['exports', 'aurelia-framework'], function (exports, _aureliaFramework) {
	/* -*- javascript -*- */
	"use strict";

	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.SemanticUIAttribute = exports.SemanticUIElement = undefined;
	exports.bindableEnum = bindableEnum;
	exports.bindableToggle = bindableToggle;

	var _dec, _class, _dec2, _class3;

	const UI_ATTRIBUTE_NAME = /SemanticUI(\w+)/;

	/**
  * SemanticUIElement -- base class for Semantic UI custom elements
  */
	let SemanticUIElement = exports.SemanticUIElement = (_dec = (0, _aureliaFramework.inject)(Element), _dec(_class = class SemanticUIElement {

		constructor(el) {
			this.logger = _aureliaFramework.LogManager.getLogger(this.constructor.name);
			this.element = el;
		}

		created(owningView, myView) {
			this.innerElement = this.element.querySelector(':first-child');
		}

		addCssClasses(...cssClasses) {
			this.logger.debug(`Adding CSS classes: ${ cssClasses } to inner element: ${ this.innerElement }`);
			this.innerElement.classList.add(...cssClasses);
		}

		removeCssClasses(...cssClasses) {
			this.logger.debug(`Removing CSS classes: ${ cssClasses } from inner element: ${ this.innerElement }`);
			this.innerElement.classList.remove(...cssClasses);
		}

	}) || _class);
	let SemanticUIAttribute = exports.SemanticUIAttribute = (_dec2 = (0, _aureliaFramework.inject)(Element), _dec2(_class3 = class SemanticUIAttribute {

		constructor(element) {
			this.logger = _aureliaFramework.LogManager.getLogger(this.constructor.name);
			this.element = element;
		}

		bind() {
			let nameMatch = UI_ATTRIBUTE_NAME.exec(this.constructor.name);

			if (nameMatch) {
				let attrName = nameMatch[1].toLowerCase().replace(/attribute$/, '');
				this.addCssClasses('ui', attrName);
			} else {
				this.logger.warn("Attribute class doesn't match the naming convention; ", "assuming it's going to manage the classList itself.");
			}
		}

		addCssClasses(...cssClasses) {
			this.element.classList.add(...cssClasses);
		}

		removeCssClasses(...cssClasses) {
			this.element.classList.remove(...cssClasses);
		}

	}) || _class3);
	function bindableEnum(...validValues) {
		// console.debug( "Bindable enum decorator called with: ", validValues );
		return function (target, name, descriptor) {
			let changedMethodName = `${ name }Changed`;
			// console.debug( "Setting up a ", changedMethodName, " method on ", target );
			target[changedMethodName] = function (newValue, oldValue) {
				this.logger.debug(`Changing ${ name } to ${ newValue } from ${ oldValue }`);

				this.removeCssClasses(oldValue);
				this.addCssClasses(newValue);
			};

			let originalBind = target.bind;
			target.bind = function (...args) {
				if (originalBind) {
					Reflect.apply(originalBind, this, args);
				}
				if (this[name]) {
					this.addCssClasses(this[name]);
				}
			};

			return (0, _aureliaFramework.bindable)(target, name, descriptor);
		};
	}

	function bindableToggle(target, name, descriptor) {
		// console.debug( "Bindable toggle decorator called with args: ", target, name, descriptor );
		let changedMethodName = `${ name }Changed`;
		// console.debug( "Setting up a ", changedMethodName, " method on ", target );
		target[changedMethodName] = function (newValue) {
			this.logger.debug(`Toggling ${ name } to ${ newValue ? 'on' : 'off' }.`);
			if (newValue) {
				this.addCssClasses(name);
			} else {
				this.removeCssClasses(name);
			}
		};

		let originalBind = target.bind;
		target.bind = function (...args) {
			this.logger.debug(`Bound for ${ name } toggle-able attribute: '${ this[name] }'.`);
			if (originalBind) {
				Reflect.apply(originalBind, this, args);
			}
			if (this[name] !== null && this[name] !== false) {
				this.addCssClasses(name);
			}
		};

		return (0, _aureliaFramework.bindable)(target, name, descriptor);
	}
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVpLWJhc2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7Ozs7OztTQW1GZ0IsWSxHQUFBLFk7U0EyQkEsYyxHQUFBLGM7Ozs7QUF6R2hCLE9BQU0sb0JBQW9CLGlCQUExQjs7QUFHQTs7O0tBSWEsaUIsV0FBQSxpQixXQURaLDhCQUFRLE9BQVIsQyxnQkFDTSxNQUFNLGlCQUFOLENBQXdCOztBQU05QixjQUFhLEVBQWIsRUFBa0I7QUFDakIsUUFBSyxNQUFMLEdBQWMsNkJBQVcsU0FBWCxDQUFzQixLQUFLLFdBQUwsQ0FBaUIsSUFBdkMsQ0FBZDtBQUNBLFFBQUssT0FBTCxHQUFlLEVBQWY7QUFDQTs7QUFHRCxVQUFTLFVBQVQsRUFBcUIsTUFBckIsRUFBOEI7QUFDN0IsUUFBSyxZQUFMLEdBQW9CLEtBQUssT0FBTCxDQUFhLGFBQWIsQ0FBNEIsY0FBNUIsQ0FBcEI7QUFDQTs7QUFHRCxnQkFBZSxHQUFHLFVBQWxCLEVBQStCO0FBQzlCLFFBQUssTUFBTCxDQUFZLEtBQVosQ0FBb0Isd0JBQXNCLFVBQVcsd0JBQXFCLEtBQUssWUFBYSxHQUE1RjtBQUNBLFFBQUssWUFBTCxDQUFrQixTQUFsQixDQUE0QixHQUE1QixDQUFpQyxHQUFHLFVBQXBDO0FBQ0E7O0FBR0QsbUJBQWtCLEdBQUcsVUFBckIsRUFBa0M7QUFDakMsUUFBSyxNQUFMLENBQVksS0FBWixDQUFvQiwwQkFBd0IsVUFBVywwQkFBdUIsS0FBSyxZQUFhLEdBQWhHO0FBQ0EsUUFBSyxZQUFMLENBQWtCLFNBQWxCLENBQTRCLE1BQTVCLENBQW9DLEdBQUcsVUFBdkM7QUFDQTs7QUExQjZCLEU7S0FtQ2xCLG1CLFdBQUEsbUIsWUFEWiw4QkFBUSxPQUFSLEMsa0JBQ00sTUFBTSxtQkFBTixDQUEwQjs7QUFLaEMsY0FBYSxPQUFiLEVBQXVCO0FBQ3RCLFFBQUssTUFBTCxHQUFjLDZCQUFXLFNBQVgsQ0FBc0IsS0FBSyxXQUFMLENBQWlCLElBQXZDLENBQWQ7QUFDQSxRQUFLLE9BQUwsR0FBZSxPQUFmO0FBQ0E7O0FBR0QsU0FBTztBQUNOLE9BQUksWUFBWSxrQkFBa0IsSUFBbEIsQ0FBd0IsS0FBSyxXQUFMLENBQWlCLElBQXpDLENBQWhCOztBQUVBLE9BQUssU0FBTCxFQUFpQjtBQUNoQixRQUFJLFdBQVcsVUFBVyxDQUFYLEVBQWUsV0FBZixHQUE2QixPQUE3QixDQUFzQyxZQUF0QyxFQUFvRCxFQUFwRCxDQUFmO0FBQ0EsU0FBSyxhQUFMLENBQW9CLElBQXBCLEVBQTBCLFFBQTFCO0FBQ0EsSUFIRCxNQUdPO0FBQ04sU0FBSyxNQUFMLENBQVksSUFBWixDQUFrQix1REFBbEIsRUFDQyxxREFERDtBQUVBO0FBQ0Q7O0FBR0QsZ0JBQWUsR0FBRyxVQUFsQixFQUErQjtBQUM5QixRQUFLLE9BQUwsQ0FBYSxTQUFiLENBQXVCLEdBQXZCLENBQTRCLEdBQUcsVUFBL0I7QUFDQTs7QUFHRCxtQkFBa0IsR0FBRyxVQUFyQixFQUFrQztBQUNqQyxRQUFLLE9BQUwsQ0FBYSxTQUFiLENBQXVCLE1BQXZCLENBQStCLEdBQUcsVUFBbEM7QUFDQTs7QUEvQitCLEU7QUFvQzFCLFVBQVMsWUFBVCxDQUF1QixHQUFHLFdBQTFCLEVBQXdDO0FBQzlDO0FBQ0EsU0FBTyxVQUFVLE1BQVYsRUFBa0IsSUFBbEIsRUFBd0IsVUFBeEIsRUFBcUM7QUFDM0MsT0FBSSxvQkFBcUIsSUFBRSxJQUFLLFVBQWhDO0FBQ0E7QUFDQSxVQUFRLGlCQUFSLElBQThCLFVBQVUsUUFBVixFQUFvQixRQUFwQixFQUErQjtBQUM1RCxTQUFLLE1BQUwsQ0FBWSxLQUFaLENBQW9CLGFBQVcsSUFBSyxTQUFNLFFBQVMsV0FBUSxRQUFTLEdBQXBFOztBQUVBLFNBQUssZ0JBQUwsQ0FBdUIsUUFBdkI7QUFDQSxTQUFLLGFBQUwsQ0FBb0IsUUFBcEI7QUFDQSxJQUxEOztBQU9BLE9BQUksZUFBZSxPQUFPLElBQTFCO0FBQ0EsVUFBTyxJQUFQLEdBQWMsVUFBVSxHQUFHLElBQWIsRUFBb0I7QUFDakMsUUFBSyxZQUFMLEVBQW9CO0FBQ25CLGFBQVEsS0FBUixDQUFlLFlBQWYsRUFBNkIsSUFBN0IsRUFBbUMsSUFBbkM7QUFDQTtBQUNELFFBQUssS0FBSyxJQUFMLENBQUwsRUFBa0I7QUFDakIsVUFBSyxhQUFMLENBQW9CLEtBQUssSUFBTCxDQUFwQjtBQUNBO0FBQ0QsSUFQRDs7QUFTQSxVQUFPLGdDQUFVLE1BQVYsRUFBa0IsSUFBbEIsRUFBd0IsVUFBeEIsQ0FBUDtBQUNBLEdBckJEO0FBc0JBOztBQUdNLFVBQVMsY0FBVCxDQUF5QixNQUF6QixFQUFpQyxJQUFqQyxFQUF1QyxVQUF2QyxFQUFvRDtBQUMxRDtBQUNBLE1BQUksb0JBQXFCLElBQUUsSUFBSyxVQUFoQztBQUNBO0FBQ0EsU0FBUSxpQkFBUixJQUE4QixVQUFVLFFBQVYsRUFBcUI7QUFDbEQsUUFBSyxNQUFMLENBQVksS0FBWixDQUFvQixhQUFXLElBQUssU0FBTSxXQUFXLElBQVgsR0FBa0IsS0FBTSxJQUFsRTtBQUNBLE9BQUssUUFBTCxFQUFnQjtBQUFFLFNBQUssYUFBTCxDQUFtQixJQUFuQjtBQUEyQixJQUE3QyxNQUNLO0FBQUUsU0FBSyxnQkFBTCxDQUFzQixJQUF0QjtBQUE4QjtBQUNyQyxHQUpEOztBQU1BLE1BQUksZUFBZSxPQUFPLElBQTFCO0FBQ0EsU0FBTyxJQUFQLEdBQWMsVUFBVSxHQUFHLElBQWIsRUFBb0I7QUFDakMsUUFBSyxNQUFMLENBQVksS0FBWixDQUFvQixjQUFZLElBQUssOEJBQTJCLEtBQUssSUFBTCxDQUFXLEtBQTNFO0FBQ0EsT0FBSyxZQUFMLEVBQW9CO0FBQ25CLFlBQVEsS0FBUixDQUFlLFlBQWYsRUFBNkIsSUFBN0IsRUFBbUMsSUFBbkM7QUFDQTtBQUNELE9BQUssS0FBSyxJQUFMLE1BQWUsSUFBZixJQUF1QixLQUFLLElBQUwsTUFBZSxLQUEzQyxFQUFtRDtBQUNsRCxTQUFLLGFBQUwsQ0FBb0IsSUFBcEI7QUFDQTtBQUNELEdBUkQ7O0FBVUEsU0FBTyxnQ0FBVSxNQUFWLEVBQWtCLElBQWxCLEVBQXdCLFVBQXhCLENBQVA7QUFDQSIsImZpbGUiOiJ1aS1iYXNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogLSotIGphdmFzY3JpcHQgLSotICovXG5cInVzZSBzdHJpY3RcIjtcblxuXG5pbXBvcnQge2luamVjdCwgYmluZGFibGUsIGNoaWxkLCBMb2dNYW5hZ2VyfSBmcm9tICdhdXJlbGlhLWZyYW1ld29yayc7XG5cbmNvbnN0IFVJX0FUVFJJQlVURV9OQU1FID0gL1NlbWFudGljVUkoXFx3KykvO1xuXG5cbi8qKlxuICogU2VtYW50aWNVSUVsZW1lbnQgLS0gYmFzZSBjbGFzcyBmb3IgU2VtYW50aWMgVUkgY3VzdG9tIGVsZW1lbnRzXG4gKi9cbkBpbmplY3QoIEVsZW1lbnQgKVxuZXhwb3J0IGNsYXNzIFNlbWFudGljVUlFbGVtZW50IHtcblxuXHRlbGVtZW50O1xuXHRpbm5lckVsZW1lbnQ7XG5cblxuXHRjb25zdHJ1Y3RvciggZWwgKSB7XG5cdFx0dGhpcy5sb2dnZXIgPSBMb2dNYW5hZ2VyLmdldExvZ2dlciggdGhpcy5jb25zdHJ1Y3Rvci5uYW1lICk7XG5cdFx0dGhpcy5lbGVtZW50ID0gZWw7XG5cdH1cblxuXG5cdGNyZWF0ZWQoIG93bmluZ1ZpZXcsIG15VmlldyApIHtcblx0XHR0aGlzLmlubmVyRWxlbWVudCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCAnOmZpcnN0LWNoaWxkJyApO1xuXHR9XG5cblxuXHRhZGRDc3NDbGFzc2VzKCAuLi5jc3NDbGFzc2VzICkge1xuXHRcdHRoaXMubG9nZ2VyLmRlYnVnKCBgQWRkaW5nIENTUyBjbGFzc2VzOiAke2Nzc0NsYXNzZXN9IHRvIGlubmVyIGVsZW1lbnQ6ICR7dGhpcy5pbm5lckVsZW1lbnR9YCApO1xuXHRcdHRoaXMuaW5uZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoIC4uLmNzc0NsYXNzZXMgKTtcblx0fVxuXG5cblx0cmVtb3ZlQ3NzQ2xhc3NlcyggLi4uY3NzQ2xhc3NlcyApIHtcblx0XHR0aGlzLmxvZ2dlci5kZWJ1ZyggYFJlbW92aW5nIENTUyBjbGFzc2VzOiAke2Nzc0NsYXNzZXN9IGZyb20gaW5uZXIgZWxlbWVudDogJHt0aGlzLmlubmVyRWxlbWVudH1gICk7XG5cdFx0dGhpcy5pbm5lckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSggLi4uY3NzQ2xhc3NlcyApO1xuXHR9XG5cbn1cblxuXG4vKipcbiAqIFNlbWFudGljVUlBdHRyaWJ1dGUgLS0gYmFzZSBjbGFzcyBmb3IgU2VtYW50aWMgVUkgY3VzdG9tIGF0dHJpYnV0ZXNcbiAqL1xuQGluamVjdCggRWxlbWVudCApXG5leHBvcnQgY2xhc3MgU2VtYW50aWNVSUF0dHJpYnV0ZSB7XG5cblx0ZWxlbWVudDtcblxuXG5cdGNvbnN0cnVjdG9yKCBlbGVtZW50ICkge1xuXHRcdHRoaXMubG9nZ2VyID0gTG9nTWFuYWdlci5nZXRMb2dnZXIoIHRoaXMuY29uc3RydWN0b3IubmFtZSApO1xuXHRcdHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG5cdH1cblxuXG5cdGJpbmQoKSB7XG5cdFx0bGV0IG5hbWVNYXRjaCA9IFVJX0FUVFJJQlVURV9OQU1FLmV4ZWMoIHRoaXMuY29uc3RydWN0b3IubmFtZSApO1xuXG5cdFx0aWYgKCBuYW1lTWF0Y2ggKSB7XG5cdFx0XHRsZXQgYXR0ck5hbWUgPSBuYW1lTWF0Y2hbIDEgXS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoIC9hdHRyaWJ1dGUkLywgJycgKTtcblx0XHRcdHRoaXMuYWRkQ3NzQ2xhc3NlcyggJ3VpJywgYXR0ck5hbWUgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5sb2dnZXIud2FybiggXCJBdHRyaWJ1dGUgY2xhc3MgZG9lc24ndCBtYXRjaCB0aGUgbmFtaW5nIGNvbnZlbnRpb247IFwiLFxuXHRcdFx0XHRcImFzc3VtaW5nIGl0J3MgZ29pbmcgdG8gbWFuYWdlIHRoZSBjbGFzc0xpc3QgaXRzZWxmLlwiICk7XG5cdFx0fVxuXHR9XG5cblxuXHRhZGRDc3NDbGFzc2VzKCAuLi5jc3NDbGFzc2VzICkge1xuXHRcdHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCAuLi5jc3NDbGFzc2VzICk7XG5cdH1cblxuXG5cdHJlbW92ZUNzc0NsYXNzZXMoIC4uLmNzc0NsYXNzZXMgKSB7XG5cdFx0dGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoIC4uLmNzc0NsYXNzZXMgKTtcblx0fVxuXG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRhYmxlRW51bSggLi4udmFsaWRWYWx1ZXMgKSB7XG5cdC8vIGNvbnNvbGUuZGVidWcoIFwiQmluZGFibGUgZW51bSBkZWNvcmF0b3IgY2FsbGVkIHdpdGg6IFwiLCB2YWxpZFZhbHVlcyApO1xuXHRyZXR1cm4gZnVuY3Rpb24oIHRhcmdldCwgbmFtZSwgZGVzY3JpcHRvciApIHtcblx0XHRsZXQgY2hhbmdlZE1ldGhvZE5hbWUgPSBgJHtuYW1lfUNoYW5nZWRgO1xuXHRcdC8vIGNvbnNvbGUuZGVidWcoIFwiU2V0dGluZyB1cCBhIFwiLCBjaGFuZ2VkTWV0aG9kTmFtZSwgXCIgbWV0aG9kIG9uIFwiLCB0YXJnZXQgKTtcblx0XHR0YXJnZXRbIGNoYW5nZWRNZXRob2ROYW1lIF0gPSBmdW5jdGlvbiggbmV3VmFsdWUsIG9sZFZhbHVlICkge1xuXHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoIGBDaGFuZ2luZyAke25hbWV9IHRvICR7bmV3VmFsdWV9IGZyb20gJHtvbGRWYWx1ZX1gICk7XG5cblx0XHRcdHRoaXMucmVtb3ZlQ3NzQ2xhc3Nlcyggb2xkVmFsdWUgKTtcblx0XHRcdHRoaXMuYWRkQ3NzQ2xhc3NlcyggbmV3VmFsdWUgKTtcblx0XHR9O1xuXG5cdFx0bGV0IG9yaWdpbmFsQmluZCA9IHRhcmdldC5iaW5kO1xuXHRcdHRhcmdldC5iaW5kID0gZnVuY3Rpb24oIC4uLmFyZ3MgKSB7XG5cdFx0XHRpZiAoIG9yaWdpbmFsQmluZCApIHtcblx0XHRcdFx0UmVmbGVjdC5hcHBseSggb3JpZ2luYWxCaW5kLCB0aGlzLCBhcmdzICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHRoaXNbbmFtZV0gKSB7XG5cdFx0XHRcdHRoaXMuYWRkQ3NzQ2xhc3NlcyggdGhpc1tuYW1lXSApO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRyZXR1cm4gYmluZGFibGUoIHRhcmdldCwgbmFtZSwgZGVzY3JpcHRvciApO1xuXHR9O1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kYWJsZVRvZ2dsZSggdGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yICkge1xuXHQvLyBjb25zb2xlLmRlYnVnKCBcIkJpbmRhYmxlIHRvZ2dsZSBkZWNvcmF0b3IgY2FsbGVkIHdpdGggYXJnczogXCIsIHRhcmdldCwgbmFtZSwgZGVzY3JpcHRvciApO1xuXHRsZXQgY2hhbmdlZE1ldGhvZE5hbWUgPSBgJHtuYW1lfUNoYW5nZWRgO1xuXHQvLyBjb25zb2xlLmRlYnVnKCBcIlNldHRpbmcgdXAgYSBcIiwgY2hhbmdlZE1ldGhvZE5hbWUsIFwiIG1ldGhvZCBvbiBcIiwgdGFyZ2V0ICk7XG5cdHRhcmdldFsgY2hhbmdlZE1ldGhvZE5hbWUgXSA9IGZ1bmN0aW9uKCBuZXdWYWx1ZSApIHtcblx0XHR0aGlzLmxvZ2dlci5kZWJ1ZyggYFRvZ2dsaW5nICR7bmFtZX0gdG8gJHtuZXdWYWx1ZSA/ICdvbicgOiAnb2ZmJ30uYCApO1xuXHRcdGlmICggbmV3VmFsdWUgKSB7IHRoaXMuYWRkQ3NzQ2xhc3NlcyhuYW1lKTsgfVxuXHRcdGVsc2UgeyB0aGlzLnJlbW92ZUNzc0NsYXNzZXMobmFtZSk7IH1cblx0fTtcblxuXHRsZXQgb3JpZ2luYWxCaW5kID0gdGFyZ2V0LmJpbmQ7XG5cdHRhcmdldC5iaW5kID0gZnVuY3Rpb24oIC4uLmFyZ3MgKSB7XG5cdFx0dGhpcy5sb2dnZXIuZGVidWcoIGBCb3VuZCBmb3IgJHtuYW1lfSB0b2dnbGUtYWJsZSBhdHRyaWJ1dGU6ICcke3RoaXNbbmFtZV19Jy5gICk7XG5cdFx0aWYgKCBvcmlnaW5hbEJpbmQgKSB7XG5cdFx0XHRSZWZsZWN0LmFwcGx5KCBvcmlnaW5hbEJpbmQsIHRoaXMsIGFyZ3MgKTtcblx0XHR9XG5cdFx0aWYgKCB0aGlzW25hbWVdICE9PSBudWxsICYmIHRoaXNbbmFtZV0gIT09IGZhbHNlICkge1xuXHRcdFx0dGhpcy5hZGRDc3NDbGFzc2VzKCBuYW1lICk7XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiBiaW5kYWJsZSggdGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yICk7XG59XG5cblxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
